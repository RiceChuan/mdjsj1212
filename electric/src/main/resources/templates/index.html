<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta charset="utf-8"/>
    <title>马达加斯加电力系统</title>

    <meta name="description" content="overview &amp; stats"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>

    <!-- bootstrap & fontawesome -->
    <link rel="stylesheet" href="/res/ace/assets/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/res/ace/assets/font-awesome/4.5.0/css/font-awesome.min.css"/>

    <!-- page specific plugin styles -->
    <link rel="stylesheet" href="/res/layer/skin/layer.css"/>
    <!-- text fonts -->
    <link rel="stylesheet" href="/res/ace/assets/css/fonts.googleapis.com.css"/>

    <!-- ace styles -->
    <link rel="stylesheet" href="/res/ace/assets/css/ace.min.css" class="ace-main-stylesheet" id="main-ace-style"/>

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/res/ace/assets/css/ace-part2.min.css" class="ace-main-stylesheet"/>
    <![endif]-->
    <link rel="stylesheet" href="/res/ace/assets/css/ace-skins.min.css"/>
    <link rel="stylesheet" href="/res/ace/assets/css/ace-rtl.min.css"/>

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/res/ace/assets/css/ace-ie.min.css"/>
    <![endif]-->


    <!-- inline styles related to this page -->

    <!-- ace settings handler -->
    <script src="/res/ace/assets/js/ace-extra.min.js"></script>

    <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

    <!--[if lte IE 8]>
    <script src="/res/ace/assets/js/html5shiv.min.js"></script>
    <script src="/res/ace/assets/js/res/acepond.min.js"></script>
    <![endif]-->
    <style type="text/css">
        .title {
            padding: 5px 10px 0 10px;
            color: red;
        }
    </style>
</head>

<body class="no-skin">
<div id="navbar" class="navbar navbar-default  ace-save-state">
    <div class="navbar-container ace-save-state" id="navbar-container">
        <button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler" data-target="#sidebar">
            <span class="sr-only">Toggle sidebar</span>

            <span class="icon-bar"></span>

            <span class="icon-bar"></span>

            <span class="icon-bar"></span>
        </button>

        <div class="navbar-header pull-left">
            <a href="index.html" class="navbar-brand">
                <small>
                    <i class="fa fa-leaf"></i>
                    马达加斯加电力系统
                </small>
            </a>
        </div>

        <div class="navbar-buttons navbar-header pull-right" role="navigation">
            <ul class="nav ace-nav">

                <!--<li style=" background-color: #00a2d4;display: inline"  id="denglu" >-->
                    <!--<a  href="/" >-->
                        <!--<span >登 &nbsp;&nbsp;录</span>-->
                    <!--</a>-->
                <!--</li>-->

                <li class="light-blue dropdown-modal">
                    <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                        <img class="nav-user-photo" src="/res/ace/assets/images/avatars/user.jpg" alt="Jason's Photo"/>
                        <span class="user-info">
									<small>欢迎您:</small>
									<div th:text="${session.username}" id="username"></div>
								</span>

                        <i class="ace-icon fa fa-caret-down"></i>
                    </a>

                    <ul class="user-menu dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
                        <li>
                            <a href="#">
                                <i class="ace-icon fa fa-user"></i>
                                个人信息
                            </a>
                        </li>

                        <li class="divider"></li>

                        <li>
                            <a href="javascript:;" onclick="exit();"  id="logout">
                                <i class="ace-icon fa fa-power-off"></i>
                                退出
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div><!-- /.navbar-container -->
</div>

<div class="main-container ace-save-state" id="main-container">
    <script type="text/javascript">
        try {
            ace.settings.loadState('main-container')
        } catch (e) {
        }
    </script>

    <div id="sidebar" class="sidebar                  responsive                    ace-save-state">
        <script type="text/javascript">
            try {
                ace.settings.loadState('sidebar')
            } catch (e) {
            }
        </script>

        <ul class="nav nav-list">
            <!--<li class="">-->
                <!--<a href="#">-->
                    <!--<i class="menu-icon fa fa-tachometer"></i>-->
                    <!--<span class="menu-text"> 系统导航 </span>-->
                <!--</a>-->

                <!--<b class="arrow"></b>-->
            <!--</li>-->

            <li class="open">
                <a href="" class="dropdown-toggle">
                    <i class="menu-icon fa fa-desktop"></i>
                    <span class="menu-text">
							  业务管理
							</span>

                    <b class="arrow fa fa-angle-down"></b>
                </a>

                <b class="arrow"></b>

                <ul class="submenu">
                    <li class="active">
                        <a href="/index">
                            <i class="menu-icon fa fa-caret-right"></i>

                            电量查询

                        </a>
                        <b class="arrow"></b>

                    </li>

                </ul>
            </li>
            <li class="">
                <a href="#" class="dropdown-toggle">
                    <i class="menu-icon fa fa-file-o"></i>

                    <span class="menu-text">
								用户管理
							</span>

                    <b class="arrow fa fa-angle-down"></b>
                </a>

                <b class="arrow"></b>

                <ul class="submenu">
                    <li class="">
                        <a href="/usermanage">
                            <i class="menu-icon fa fa-caret-right"></i>
                            用户管理
                        </a>

                        <b class="arrow"></b>
                    </li>
                </ul>
            </li>
            <li class="">
                <a href="#" class="dropdown-toggle">
                    <i class="menu-icon fa fa-picture-o"></i>

                    <span class="menu-text">
								数据库管理
							</span>

                    <b class="arrow fa fa-angle-down"></b>
                </a>

                <b class="arrow"></b>

                <ul class="submenu">
                    <li class="">
                        <a href="#">
                            <i class="menu-icon fa fa-caret-right"></i>
                            数据库备份
                        </a>

                        <b class="arrow"></b>
                    </li>
                    <li class="">
                        <a href="#">
                            <i class="menu-icon fa fa-caret-right"></i>
                            数据库还原
                        </a>
                        <b class="arrow"></b>
                    </li>
                </ul>
            </li>


        </ul><!-- /.nav-list -->

        <div class="sidebar-toggle sidebar-collapse" id="sidebar-collapse">
            <i id="sidebar-toggle-icon" class="ace-icon fa fa-angle-double-left ace-save-state"
               data-icon1="ace-icon fa fa-angle-double-left" data-icon2="ace-icon fa fa-angle-double-right"></i>
        </div>
    </div>

    <div class="main-content">
        <h2 style="text-align: center">用户电量使用情况</h2>
        <button id="day" class="btn btn-sm btn-primary" onclick="day()">日用电量</button>
        <button id="month" class="btn btn-sm btn-primary" onclick="month()">月用电量</button>
        <button id="quarter" class="btn btn-sm btn-primary">季度用电量</button>
        <button id="year1" class="btn btn-sm btn-primary">半年用电量</button>
        <button id="year2" class="btn btn-sm btn-primary">年用电量</button>
        <div id="main-content" style="height: 600px"></div>
        <!--内容-->
    </div><!-- /.main-content -->

    <div class="footer">
        <div class="footer-inner">
            <div class="footer-content">
						<span class="bigger-120">
							马达加斯加电力系统
						</span>
            </div>
        </div>
    </div>

    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
        <i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
    </a>
</div><!-- /.main-container -->

<!-- basic scripts -->

<!--[if !IE]> -->
<script src="/res/ace/assets/js/jquery-2.1.4.min.js"></script>

<!-- <![endif]-->

<!--[if IE]>
<script src="/res/ace/assets/js/jquery-1.11.3.min.js"></script>
<![endif]-->
<script src="/res/ace/assets/js/bootstrap.min.js"></script>

<!-- page specific plugin scripts -->
<script src="/res/layer/layer.js"></script>
<!--[if lte IE 8]>
<script src="/res/ace/assets/js/excanvas.min.js"></script>
<![endif]-->
<script src="/res/ace/assets/js/jquery-ui.custom.min.js"></script>
<script src="/res/ace/assets/js/jquery.ui.touch-punch.min.js"></script>
<script src="/res/ace/assets/js/jquery.easypiechart.min.js"></script>
<script src="/res/ace/assets/js/jquery.sparkline.index.min.js"></script>

<!-- ace scripts -->
<script src="/res/ace/assets/js/ace-elements.min.js"></script>
<script src="/res/ace/assets/js/ace.min.js"></script>
<script src="/res/js/logout.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
<!-- inline scripts related to this page -->
<script type="text/javascript">

        var dom = document.getElementById("main-content");
        var myChart = echarts.init(dom);
        var app = {};
        option = null;
        option = {
//        title: {
//            text: '折线图堆叠'
//        },
            tooltip : {
                trigger: 'axis'
            },
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
            calculable : true,
            legend: {
                data:['用户统计','区域统计']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },

            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['周一','周二','周三','周四','周五','周六','周日']
            },
            yAxis: {
                type: 'value'
            },
            series: [
                {
                    name:'用户统计',
                    type:'line',
                    stack: '总量',
                    data:[120, 132, 101, 134, 90, 230, 210]
                },
                {
                    name:'区域统计',
                    type:'line',
                    stack: '总量',
                    data:[220, 182, 191, 234, 290, 330, 310]
                }
            ],
            dataZoom: [{
                type: 'inside',
                start: 50,
                end: 100
            }, {
                show: true,
                type: 'slider',
                y: '95%',
                start: 50,
                end: 100
            }]
        };
        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
        //图表响应式布局
        $(window).resize(function(){
            myChart.resize();
        });

        function data(date) {
            jQuery.ajax({
                type:'POST',
                async: false,
                cache: false,
                url:  '/electricByUserId',
//                contentType: 'application/json',
                dataType: 'json',
                data:{"date":date},
                success:function(result) {
console.log(date)
                    option.xAxis.data = result.data.list;
                    option.series[0].data =  result.data.list1;
                    option.series[1].data =  result.data.list1;
                    myChart.setOption(option);
                }
            })
        }
        function day() {
            data(1);
        }
        function month() {
            data(2);
        }


</script>
</body>
</html>
